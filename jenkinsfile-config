// Definitions here

pipeline {

// Set up local variables for your pipeline
    environment {
        // test variable: 0=success, 1=fail; must be string
        doError = '0'
        BUILD_USER = ''
    }

    agent any

    stages {
        stage('Git Checkout') {
            steps {
                git branch: 'feature1', credentialsId: 'jenkins-github-integration', url: 'https://github.com/MFresh/funcalc.git'
            }
        }

        stage('Gradle Build') {
            steps {
                sh './gradlew build'
            }
        }

        stage('Slack it'){
            steps {
                 slackSend channel: '#builds',
                 message: "Started Build '${env.JOB_NAME}' with build '${BUILD_NUMBER}'"
            }
        }


    }

    post{

        success{
                slackSend channel: '#builds',
                message: "Started Build '${env.JOB_NAME}' with build '${BUILD_NUMBER}'",
                color: 'good'
        }


    }


}
